## 2026-02-20 — Phase 0: Project Scaffolding + Types

Implemented the first task group from Phase 0 (Tracer Bullet).

### What was done
- Created `src/scanner/types.ts` with `ProjectSummary` and `SessionSummary` interfaces matching the spec
- Created `src/scanner/index.ts` with placeholder type re-exports
- Created `src/scanner/__tests__/fixtures/base-path/-Users-foo-code-bar/a1b2c3d4-...jsonl` — minimal 4-line transcript (snapshot, user prompt, assistant text, turn_duration)

### Files changed
- `src/scanner/types.ts` (new)
- `src/scanner/index.ts` (new)
- `src/scanner/__tests__/fixtures/base-path/-Users-foo-code-bar/a1b2c3d4-e5f6-7890-abcd-ef1234567890.jsonl` (new)

### Notes
- `bun install` was needed (no `node_modules` in worktree)
- Typecheck and all 387 existing parser tests pass
- Fixture uses sessionId matching the UUID filename, model `claude-sonnet-4-20250514`, 10 input / 20 output tokens

## 2026-02-20 — Phase 0: scanProjects implementation

Implemented `scanProjects(basePaths)` — the first function in the "Minimal scanProjects + scanSessions" task group.

### What was done
- Created `src/scanner/scan-projects.ts` with full `scanProjects` implementation:
  - Iterates base paths, reads directory entries
  - Skips non-directories, dot-prefixed dirs, and `memory` dir
  - Decodes path (`-` → `/`)
  - Calls `scanSessions` per project for `sessionCount` and `lastActiveAt`
  - Sorts results by `lastActiveAt` descending (nulls last)
  - Silently skips missing/unreadable base paths
- Created `src/scanner/scan-sessions.ts` as a stub (returns `[]`) — dependency for `scanProjects` to compile; will be implemented in next task

### Files changed
- `src/scanner/scan-projects.ts` (new)
- `src/scanner/scan-sessions.ts` (new — stub)

### Notes
- Typecheck passes, all 387 parser tests still pass
- `scanProjects` relies on `scanSessions` being sorted by `lastActiveAt` desc — uses `sessions[0]?.lastActiveAt ?? null` for project-level recency
- Path decoding is lossy (hyphens in original paths are ambiguous) — matches spec behavior

## 2026-02-20 — Phase 0: scanSessions implementation

Implemented `scanSessions(projectDir)` — the directory scanning and filtering logic for session files.

### What was done
- Replaced `src/scanner/scan-sessions.ts` stub with full implementation:
  - Reads directory entries from project dir (silently returns `[]` on error)
  - Skips directories (excludes subagent companion dirs)
  - Skips non-`.jsonl` files
  - Skips files whose stem is not a valid UUID (case-insensitive regex)
  - Calls `extractSessionSummary(filePath, sessionId)` for each valid file
  - Sorts results by `lastActiveAt` descending (nulls last)
- Created `src/scanner/extract-session-summary.ts` as a stub — returns a `SessionSummary` with the given `sessionId` and all other fields null/zero; will be implemented in next task

### Files changed
- `src/scanner/scan-sessions.ts` (replaced stub with full implementation)
- `src/scanner/extract-session-summary.ts` (new — stub)

### Notes
- Typecheck passes, all 387 parser tests still pass
- UUID regex: `/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i`
- Uses `node:path` `basename`/`extname` for robust filename parsing
- Same sorting pattern as `scanProjects` (nulls last via comparator)
